<app-coin-input
  #coinInputView
  id="coin"
  (clickMax)="setCoinMax()"
  [amount]="balance"
  (changeValue)="coinInput($event)"
  [isSelectCoin]="isSelectCoin"
  [coin]="profitCoin"
  [isShowError]="showError"
  [maxAmount]="isDeposit?todoValue:hadValue"
  [label]="'enter_amount'"
  class="coin-input"
>
</app-coin-input>
<div class="count">
  <div class="explain-div">
    <ion-grid class="ion-no-padding">
      <ion-row
        class="ion-align-items-center ion-align-self-center conversionPrice"
      >
        <ion-col class="label" size="8"
          >{{todoLabel | translate}}<ng-container *ngIf="isMore"
            >{{coin==='USDT'?'XT-1':'XT-2'}}{{todoLabel+'1' |
            translate}}</ng-container
          ></ion-col
        >
        <ion-col id="cofi-balance" class="ion-text-right number" size="4"
          >{{todoValue | truncate:'--'}}
        </ion-col>
      </ion-row>
      <ion-row
        class="ion-align-items-center ion-align-self-center conversionPrice"
      >
        <ion-col class="label" size="8"
          >{{hadLabel | translate}}
          <ng-container *ngIf="isMore"
            >{{coin==='USDT'?'XT-1':'XT-2'}}{{hadLabel+'1' |
            translate}}</ng-container
          >
        </ion-col>
        <ion-col id="cofi-deposited" class="ion-text-right number" size="4"
          >{{hadValue | truncate:'--'}}
        </ion-col>
      </ion-row>
      <ion-row
        class="ion-align-items-center ion-align-self-center conversionPrice"
      >
        <ion-col class="label" size="8"
          >{{'income_total_ETH' | translate}}
        </ion-col>
        <ion-col class="ion-text-right number" size="4"
          >{{totalETHInDividendPool}} ETH
        </ion-col>
      </ion-row>
      <ion-row
        class="ion-align-items-center ion-align-self-center conversionPrice"
      >
        <ion-col class="label" size="8"
          >{{'income_share_percent' | translate}}
        </ion-col>
        <ion-col class="ion-text-right number" size="4"
          >{{shareInDividendPool}}%
        </ion-col>
      </ion-row>

      <ion-row
        class="ion-align-items-center ion-align-self-center conversionPrice"
        *ngIf="transcationError.isError"
      >
        <ion-col class="error" size="12"
          >{{'transaction-error' |
          translate}}[{{transcationError.msg}}]</ion-col
        >
      </ion-row>
    </ion-grid>
  </div>
</div>
<div class="button-div" *ngIf="isDeposit">
  <app-action-button
    [btnTitle]="'sq_text'"
    [btnId]="'approve-btn'"
    [isLoading]="isLoading.sq"
    (clickAction)="approve()"
    class="w-9/20"
    *ngIf="!isApproved"
  ></app-action-button>

  <app-action-button
    [btnTitle]="'cr'"
    [btnId]="'deposit-btn'"
    [isLoading]="isLoading.cr"
    [isEnabled]="isLoading.cr || !canSave()"
    (clickAction)="save()"
    [ngClass]="{'w-9/20':!isApproved,'w-full':isApproved}"
  ></app-action-button>
</div>
<div class="my-7" *ngIf="!isDeposit">
  <app-action-button
    [btnTitle]="buttonTitle"
    [btnId]="'withdraw-btn'"
    [isLoading]="isLoading.qc"
    [isEnabled]="isLoading.qc || !canReceive()"
    (clickAction)="recieve()"
    class="w-full"
  ></app-action-button>
</div>
